<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>People</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.9/angular.min.js" charset="utf-8"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" media="screen" title="no title" charset="utf-8">
  </head>
  <style media="screen">
  @font-face { font-family: Futura; src: url('https://raw.githubusercontent.com/CultConspiracy/cult-static/gh-pages/css/fonts/futura-book-webfont.ttf'); }
    html,body{
      font-family: Futura;
    }
    .top{
      padding: 15px;
      background-color: #F7F7F7
    }
    .pagination {
      float: right;
    }
  </style>
  <body>
    <div class="container" ng-app="pApp" ng-controller="pCtrl">
      <div class="top">
        <span>Total no. of rows: {{people.length}}</span>
        <span style="float:right;">
            Search: <input type="text" ng-model="searchTerm">
        </span>
      </div>
      <div class="table">
        <table class="table table-condensed">
          <tr>
            <th>id</th>
            <th>sex</th>
            <th>education</th>
            <th>vocabulary</th>
            <th>year</th>
          </tr>
          <tr dir-paginate="person in people | filter:searchTerm | itemsPerPage: 10">
            <td>{{person.id}}</td>
            <td>{{person.sex}}</td>
            <td>{{person.education}}</td>
            <td>{{person.vocabulary}}</td>
            <td>{{person.year}}</td>
          </tr>
        </table>
        <div class="pagination">
          <dir-pagination-controls></dir-pagination-controls>
        </div>
      </div>
    </div>
  </body>
  <script src="oboe-browser.js" charset="utf-8"></script>
  <script src="https://raw.githubusercontent.com/michaelbromley/angularUtils/master/src/directives/pagination/dirPagination.js" charset="utf-8"></script>
  <script type="text/javascript">
    var app = angular.module("pApp", ['angularUtils.directives.dirPagination'])
    app.controller("pCtrl", function($scope, $http){
      // var currentPage = 1
      var req = {
       method: 'get',
       url: 'people.json',
       cache: true
      }

      $http(req).then(function(res, status){
        $scope.people = res.data
        console.log(res.data);
      }, function(error){
        console.log(error);
      });


    })
  </script>
</html>
